<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Read Book - Lydistories</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/reader.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="logo">
                <i class="fas fa-book-open"></i>
                <span>Lydistories</span>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="order.html">Order</a></li>
                <li><a href="library.html">My Library</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="account.html">Account</a></li>
            </ul>
            <div class="theme-switcher">
                <button id="themeToggle" class="theme-toggle-btn" title="Change Theme">
                    <i class="fas fa-palette"></i>
                </button>
                <div id="themeMenu" class="theme-menu">
                    <button class="theme-option" data-theme="light">
                        <i class="fas fa-sun"></i> Light
                    </button>
                    <button class="theme-option" data-theme="dark">
                        <i class="fas fa-moon"></i> Dark
                    </button>
                    <button class="theme-option" data-theme="ocean">
                        <i class="fas fa-water"></i> Ocean
                    </button>
                    <button class="theme-option" data-theme="sunset">
                        <i class="fas fa-cloud-sun"></i> Sunset
                    </button>
                    <button class="theme-option" data-theme="forest">
                        <i class="fas fa-tree"></i> Forest
                    </button>
                </div>
            </div>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Reader Container -->
    <div class="reader-container">
        <!-- Reader Sidebar -->
        <aside class="reader-sidebar">
            <div class="book-info-sidebar">
                <img id="readerBookCover" src="" alt="Book Cover" class="sidebar-cover">
                <h3 id="readerBookTitle">Book Title</h3>
                <p id="readerBookAuthor" class="sidebar-author"></p>
            </div>

            <div class="reader-controls">
                <h4><i class="fas fa-list"></i> Table of Contents</h4>
                <ul id="chapterList" class="chapter-list">
                    <!-- Chapters will be loaded here -->
                </ul>
            </div>

            <div class="reader-settings">
                <h4><i class="fas fa-cog"></i> Reading Settings</h4>
                
                <div class="setting-group">
                    <label>Font Size</label>
                    <div class="font-size-controls">
                        <button id="decreaseFont" title="Decrease font size"><i class="fas fa-minus"></i></button>
                        <span id="fontSizeDisplay">16px</span>
                        <button id="increaseFont" title="Increase font size"><i class="fas fa-plus"></i></button>
                    </div>
                </div>

                <div class="setting-group">
                    <label>Theme</label>
                    <select id="themeSelector">
                        <option value="light">Light</option>
                        <option value="sepia">Sepia</option>
                        <option value="dark">Dark</option>
                    </select>
                </div>

                <div class="setting-group">
                    <label>Font Family</label>
                    <select id="fontSelector">
                        <option value="Georgia, serif">Georgia (Serif)</option>
                        <option value="'Times New Roman', serif">Times New Roman</option>
                        <option value="Arial, sans-serif">Arial (Sans-serif)</option>
                    </select>
                </div>
            </div>

            <button id="backToLibrary" class="btn btn-secondary btn-block">
                <i class="fas fa-arrow-left"></i> Back to Library
            </button>
        </aside>

        <!-- Reader Content -->
        <main class="reader-main">
            <div class="reader-header">
                <div class="progress-info">
                    <span id="currentChapter">Chapter 1</span>
                    <span class="progress-percentage" id="readingProgress">0%</span>
                </div>
                <button id="toggleSidebar" class="toggle-sidebar-btn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>

            <div class="reader-content" id="readerContent">
                <div class="loading-message">
                    <i class="fas fa-spinner fa-spin"></i> Loading book content...
                </div>
            </div>

            <div class="reader-navigation">
                <button id="prevChapter" class="btn btn-nav" disabled>
                    <i class="fas fa-chevron-left"></i> Previous
                </button>
                <button id="nextChapter" class="btn btn-nav">
                    Next <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </main>
    </div>

    <!-- Access Denied Modal -->
    <div id="accessDeniedModal" class="modal">
        <div class="modal-content">
            <div class="access-denied-content">
                <i class="fas fa-lock" style="font-size: 4rem; color: #e74c3c;"></i>
                <h2>Access Denied</h2>
                <p>You don't have access to this book. Please purchase it first.</p>
                <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                    <a href="order.html" class="btn btn-primary">Browse Books</a>
                    <a href="library.html" class="btn btn-secondary">My Library</a>
                </div>
            </div>
        </div>
    </div>

    <script src="js/theme-switcher.js"></script>
    <script src="js/main.js"></script>
    <script src="js/reader.js"></script>
</body>
</html>
